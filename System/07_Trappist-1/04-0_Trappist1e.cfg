@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Trappist-1e
		finalizeOrbit = False
        randomMainMenuBody = False
        identifier = Trappist-1/Trappist-1e
		cacheFile = AfterSolarSystemExpand/System/07_Trappist-1/Cache/Trappist-1e.bin
		Template
		{
			name = Laythe
			removePQSMods = LandControl, VertexHeightNoise, VertexSimplexHeightMap, VertexHeightNoiseVertHeight
		}
		Properties
		{
			displayName = #ASSEX_Trappist-1E_name//Trappist-1e
			description = #ASSEX_Trappist-1E_desc//Trappist-1 e其环绕母恒星的轨道恰好在其母星宜居带内边缘处。在遥远的观察着看来它似乎非常适合宜居...
 			radius = 5861320
			//mass = 4.132624e+24
            gravParameter = 275814631859200
			tidallyLocked = True
			albedo = 0.2015
			isHomeWorld = False
			initialRotation = 28	// 68
			timewarpAltitudeLimits = 140000 140000 140000 140000 140000 140000 140000 140000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1e_Biomes.dds
			Biomes
			{
				Biome
				{
					name = 沼泽
					displayName = #ASSEX_Trappist-1E_Biome1
					value = 1.3
					color = RGB(100,100,255)
				}
				Biome
				{
					name = Cliff
					displayName = #ASSEX_Trappist-1E_Biome2
					value = 1.0
					color = RGB(100,100,0)
				}
				Biome
				{
					name = Highlands
					displayName = #ASSEX_Trappist-1E_Biome3
					value = 1.3
					color = RGB(200,100,170)
				}
				Biome
				{
					name = 温暖的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(200,200,200)
				}
				Biome
				{
					name = 寒冷的荒漠
					displayName = #ASSEX_Trappist-1E_Biome4
					value = 1.0
					color = RGB(0,0,70)
				}
			}
			ScienceValues
			{
				splashedDataValue = 46.42
				landedDataValue = 46.4
				flyingLowDataValue = 45.9
				flyingHighDataValue = 45.7
				inSpaceLowDataValue = 45.2
				inSpaceHighDataValue = 44.8
				flyingAltitudeThreshold = 20000
				spaceAltitudeThreshold = 3000000
			}
		}
		Orbit
		{
			referenceBody =            Trappist-1
			semiMajorAxis =            4.375800000E+09
            eccentricity =             5.100000000E-03
			inclination =              8.979300000E+00  // 没办法用正常的89度倾角，行星没有自转轴
            meanAnomalyAtEpochD =      4.524553152E+00
            longitudeOfAscendingNode = 5.104253716E+01
            argumentOfPeriapsis =      1.083700000E+02
			color =  				   RGB(119,125,151)
			cameraSmaRatioBounds =     0.03 500	
			iconTexture = AfterSolarSystemExpand/Textures/RockPlanet_icon.dds
		}
        ScaledVersion
        {
			type = Atmospheric
			fadeStart = 88000
			fadeEnd = 100000
			OnDemand
			{
                texture = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1e_Color.dds
                normals = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1e_NRM.dds
			}
            Material
            {
                color = 1,1,1,1

                specColor = 0.1,0.1,0.1,1
                shininess = 0.54

				rimPower = 0.85	
				rimBlend = 0.12
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1eColorRamp.dds
            }
        }
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude =	140000			
			adiabaticIndex = 1.40			
			atmosphereMolarMass = 0.0284	

				// N2 97.36%
				// CO2 2.52%
				// CH4 0.12%

			temperatureSeaLevel = 304		
			staticPressureASL =	101.5794625	
			temperatureCurve				
			{				
				key =	0	284	0.00000E+00	-5.10551E-04
				key =	5876	281	-5.10551E-04	-5.27519E-04
				key =	11563	278	-5.27519E-04	-7.26348E-04
				key =	17070	274	-7.26348E-04	-7.49485E-04
				key =	22407	270	-7.49485E-04	-1.15920E-03
				key =	27583	264	-1.15920E-03	-1.39359E-03
				key =	32606	257	-1.39359E-03	-1.43443E-03
				key =	37486	250	-1.43443E-03	-1.47524E-03
				key =	42231	243	-1.47524E-03	-1.51515E-03
				key =	46851	236	-1.51515E-03	-1.55521E-03
				key =	51352	229	-1.55521E-03	-1.59381E-03
				key =	55744	222	-1.59381E-03	-1.39828E-03
				key =	60035	216	-1.39828E-03	-1.42925E-03
				key =	64233	210	-1.42925E-03	-1.21566E-03
				key =	68346	205	-1.21566E-03	-1.23885E-03
				key =	72382	200	-1.23885E-03	-1.00857E-03
				key =	76348	196	-1.00857E-03	-1.28172E-03
				key =	80249	191	-1.28172E-03	-1.04221E-03
				key =	84087	187	-1.04221E-03	-1.05904E-03
				key =	87864	183	-1.05904E-03	-8.06235E-04
				key =	91585	180	-8.06235E-04	-8.18107E-04
				key =	95252	177	-8.18107E-04	-8.28958E-04
				key =	98871	174	-8.28958E-04	-5.59754E-04
				key =	102444	172	-5.59754E-04	-5.65931E-04
				key =	105978	170	-5.65931E-04	-5.71592E-04
				key =	109477	168	-5.71592E-04	-2.88268E-04
				key =	112946	167	-2.88268E-04	-2.90276E-04
				key =	116391	166	-2.90276E-04	-2.91800E-04
				key =	119818	165	-2.91800E-04	-2.92826E-04
				key =	123233	164	-2.92826E-04	0.00000E+00
				key =	126643	164	0.00000E+00	0.00000E+00
				key =	130056	165	2.92997E-04	0.00000E+00
				key =	133486	166	2.91545E-04	0.00000E+00
				key =	136948	168	5.77701E-04	1.21944E-03
				key =	140000	170	6.55308E-04	1.26261E-03			
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.88836E-05
				key =	5876	0.654	-5.88836E-05	-5.46861E-05
				key =	11563	0.343	-5.46861E-05	-4.72126E-05
				key =	17070	0.083	-4.72126E-05	-3.74742E-05
				key =	22407	-0.117	-3.74742E-05	-2.51159E-05
				key =	27583	-0.247	-2.51159E-05	-1.03524E-05
				key =	32606	-0.299	-1.03524E-05	1.22951E-06
				key =	37486	-0.293	1.22951E-06	4.84721E-06
				key =	42231	-0.270	4.84721E-06	8.00866E-06
				key =	46851	-0.233	8.00866E-06	1.02200E-05
				key =	51352	-0.187	1.02200E-05	1.18397E-05
				key =	55744	-0.135	1.18397E-05	1.30506E-05
				key =	60035	-0.079	1.30506E-05	1.38161E-05
				key =	64233	-0.021	1.38161E-05	1.41016E-05
				key =	68346	0.037	1.41016E-05	1.38751E-05
				key =	72382	0.093	1.38751E-05	1.33636E-05
				key =	76348	0.146	1.33636E-05	1.23045E-05
				key =	80249	0.194	1.23045E-05	1.09432E-05
				key =	84087	0.236	1.09432E-05	9.53137E-06
				key =	87864	0.272	9.53137E-06	7.25611E-06
				key =	91585	0.299	7.25611E-06	4.90864E-06
				key =	95252	0.317	4.90864E-06	2.48687E-06
				key =	98871	0.326	2.48687E-06	0.00000E+00
				key =	102444	0.326	0.00000E+00	0.00000E+00
				key =	105978	0.326	0.00000E+00	0.00000E+00
				key =	109477	0.326	0.00000E+00	0.00000E+00
				key =	112946	0.326	0.00000E+00	0.00000E+00
				key =	116391	0.326	0.00000E+00	0.00000E+00
				key =	119818	0.326	0.00000E+00	0.00000E+00
				key =	123233	0.326	0.00000E+00	0.00000E+00
				key =	126643	0.326	0.00000E+00	0.00000E+00
				key =	130056	0.326	0.00000E+00	0.00000E+00
				key =	133486	0.326	0.00000E+00	0.00000E+00
				key =	136948	0.326	0.00000E+00	0.00000E+00
				key =	140000	0.326	0.00000E+00	0.00000E+00			
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	9.33	0	0
				key =	38	0	-0.4728	-0.4728
				key =	90	-34.67	-0.7679	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	49	0	0
				key =	38	41.58	-0.3761	-0.3761
				key =	90	14	-0.6109	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-0.8	0	-0.0044
				key =	17.63	-0.83	0	0
				key =	107.63	0	0.0146	0.0146
				key =	197.63	0.83	0	0
				key =	287.63	0	-0.0146	-0.0146
				key =	360	-0.8	-0.0044	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0.05	0	-0.1
				key =	1	-0.05	-0.1	0
			}				
			pressureCurve				
			{				
				key =	0	1.01579E+02	0.00000E+00	-9.78958E-03
				key =	5876	5.71223E+01	-5.69382E-03	-5.69382E-03
				key =	11563	3.21222E+01	-3.30975E-03	-3.30975E-03
				key =	17070	1.80637E+01	-1.92267E-03	-1.92267E-03
				key =	22407	1.01579E+01	-1.11610E-03	-1.11610E-03
				key =	27583	5.71223E+00	-6.47377E-04	-6.47377E-04
				key =	32606	3.21222E+00	-3.75173E-04	-3.75173E-04
				key =	37486	1.80637E+00	-2.17216E-04	-2.17216E-04
				key =	42231	1.01579E+00	-1.25633E-04	-1.25633E-04
				key =	46851	5.71223E-01	-7.25820E-05	-7.25820E-05
				key =	51352	3.21222E-01	-4.18827E-05	-4.18827E-05
				key =	55744	1.80637E-01	-2.41372E-05	-2.41372E-05
				key =	60035	1.01579E-01	-1.38915E-05	-1.38915E-05
				key =	64233	5.71223E-02	-7.98350E-06	-7.98350E-06
				key =	68346	3.21222E-02	-4.58126E-06	-4.58126E-06
				key =	72382	1.80637E-02	-2.62481E-06	-2.62481E-06
				key =	76348	1.01579E-02	-1.50143E-06	-1.50143E-06
				key =	80249	5.71223E-03	-8.58931E-07	-8.58931E-07
				key =	84087	3.21222E-03	-4.91123E-07	-4.91123E-07
				key =	87864	1.80637E-03	-2.80641E-07	-2.80641E-07
				key =	91585	1.01579E-03	-1.60248E-07	-1.60248E-07
				key =	95252	5.71223E-04	-9.14235E-08	-9.14235E-08
				key =	98871	3.21222E-04	-5.21070E-08	-5.21070E-08
				key =	102444	1.80637E-04	-2.96655E-08	-2.96655E-08
				key =	105978	1.01579E-04	-1.68682E-08	-1.68682E-08
				key =	109477	5.71223E-05	-9.57831E-09	-9.57831E-09
				key =	112946	3.21222E-05	-5.43073E-09	-5.43073E-09
				key =	116391	1.80637E-05	-3.07413E-09	-3.07413E-09
				key =	119818	1.01579E-05	-1.73711E-09	-1.73711E-09
				key =	123233	5.71223E-06	-9.79773E-10	-9.79773E-10
				key =	126643	3.21222E-06	-5.51531E-10	-5.51531E-10
				key =	130056	1.80637E-06	-3.09451E-10	-3.09451E-10
				key =	133486	1.01579E-06	-1.72864E-10	-1.72864E-10
				key =	136948	5.71223E-07	-9.61659E-11	-9.61659E-11
				key =	140000	0.00000E+00	0.00000E+00	0.00000E+00				
			}				
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 4153221 // The lower bound of the atmosphere effect.
				invWaveLength = 1.33239186,1.40056026,1.35464334,0.5
				outerRadius = 4259714 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.930769205,0.919230759,0.926923215,0
				outerRadiusMult = 1.035 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}							
		}
		PQS
		{
			fadeStart = 89375
			fadeEnd = 109375
			deactivateAltitude = 140000
            materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 0.97
				contrast = 1.15
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 2.7
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = BUILTIN/laythSteep_diff
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/laytheSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 15000
				steepTiling = 150

				lowTex = BUILTIN/laytheLow_diff
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 20000

				midTex = BUILTIN/laytheSand_diffuse
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = BUILTIN/laytheSand_nrm
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000

				highTex = BUILTIN/laytheSnow_diff
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods
			{
				VertexColorMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1e_Color.dds
					order = 9999993
					enabled = true
				}                                                     
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1e_Height.dds
					offset = -2100
					deformity = 17083.07
					scaleDeformityByRadius = False
					order = 10
					enabled = True
					name = _HeightNoise03
				}
			}
		}
	}
}