@Kopernicus:FOR[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Trappist-1h
		finalizeOrbit = False
        randomMainMenuBody = False
        identifier = Trappist-1/Trappist-1h
		cacheFile = AfterSolarSystemExpand/System/07_Trappist-1/Cache/Trappist-1h.bin
		Template
		{
			name = Laythe
			removeOcean = True
			removePQSMods = LandControl, VertexHeightNoise, VertexSimplexHeightMap, VertexHeightNoiseVertHeight
		}
		Properties
		{
			displayName = #ASSEX_Trappist-1H_name//Trappist-1h
			description = #ASSEX_Trappist-1H_desc//Trappist-1h是一颗绕行在系统外围的一颗行星,尽管它看似在遥远的轨道上，但依然不可避免的被其母恒星潮汐锁定...  
 			radius = 4937525
			//mass = 1.946872e+24
            gravParameter = 129935794777600

			tidallyLocked = True
			albedo = 0.4205
			isHomeWorld = False
			initialRotation = 300
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1h_Biomes.dds
			Biomes
			{
				Biome
				{
					name = 沟壑
					displayName = #ASSEX_Trappist-1h_Biome1
					value = 1.0
					color = RGB(0,0,0)
				}
				Biome
				{
					name = Craters
					displayName = #ASSEX_Trappist-1h_Biome2
					value = 1.0
					color = RGB(0,0,90)
				}
				Biome
				{
					name = 低地
					displayName = #ASSEX_Trappist-1h_Biome3
					value = 1.0
					color = RGB(120,0,90)
				}
				Biome
				{
					name = 高地
					displayName = #ASSEX_Trappist-1h_Biome4
					value = 1.0
					color = RGB(120,200,90)
				}
				Biome
				{
					name = Hills
					displayName = #ASSEX_Trappist-1h_Biome5
					value = 1.0
					color = RGB(120,200,240)
				}
			}
			ScienceValues
			{
				landedDataValue = 47.4
				flyingLowDataValue = 46.9
				flyingHighDataValue = 46.7
				inSpaceLowDataValue = 46.2
				inSpaceHighDataValue = 45.8
				flyingAltitudeThreshold = 32000
				spaceAltitudeThreshold = 2300000
			}
		}
		Orbit
		{
			referenceBody =            Trappist-1
			semiMajorAxis =            9.258744000E+09
            eccentricity =             5.670000000E-03
			inclination =              8.980500000E+00  // 没办法用正常的89度倾角，行星没有自转轴
            meanAnomalyAtEpochD =      4.524553172E+01
            longitudeOfAscendingNode = 5.181255316E+01
            argumentOfPeriapsis =      3.389200000E+02
			color =  				   RGB(165,165,168)
			cameraSmaRatioBounds =     0.03 500	
			iconTexture = AfterSolarSystemExpand/Textures/RockPlanet_icon.dds
		}
        ScaledVersion
        {
			type = Atmospheric
			fadeStart = 100000
			fadeEnd = 102000
			OnDemand
			{
				texture = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1h_Color.dds
				normals = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1h_NRM.dds
			}
            Material
            {
                color = 1,1,1,1

                specColor = 0.1,0.1,0.1,1
                shininess = 0.85

				rimPower = 1.35
				rimBlend = 0.08
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1fColorRamp.dds
            }
		}
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude = 125000			
			adiabaticIndex = 1.40			
			atmosphereMolarMass = 0.02801	

				// N2 100%

			temperatureSeaLevel = 181		
			staticPressureASL =	0.167413603			
			temperatureCurve				
			{				
				key =	0	150	0.00000E+00	-4.23669E-04
				key =	7081	147	-4.23669E-04	-3.05670E-04
				key =	13624	145	-3.05670E-04	-4.93259E-04
				key =	19706	142	-4.93259E-04	-5.26408E-04
				key =	25405	139	-5.26408E-04	-7.41427E-04
				key =	30800	135	-7.41427E-04	-3.82117E-04
				key =	36034	133	-3.82117E-04	-5.80383E-04
				key =	41203	130	-5.80383E-04	-5.87429E-04
				key =	46310	127	-5.87429E-04	-5.94177E-04
				key =	51359	124	-5.94177E-04	-6.00480E-04
				key =	56355	121	-6.00480E-04	-6.06428E-04
				key =	61302	118	-6.06428E-04	-4.07747E-04
				key =	66207	116	-4.07747E-04	-6.16270E-04
				key =	71075	113	-6.16270E-04	-6.20219E-04
				key =	75912	110	-6.20219E-04	-4.15455E-04
				key =	80726	108	-4.15455E-04	-4.16840E-04
				key =	85524	106	-4.16840E-04	-2.08725E-04
				key =	90315	105	-2.08725E-04	-2.08725E-04
				key =	95106	104	-2.08725E-04	0.00000E+00
				key =	99908	104	0.00000E+00	0.00000E+00
				key =	104734	104	0.00000E+00	2.05212E-04
				key =	109607	105	2.05212E-04	2.02306E-04
				key =	114550	106	2.02306E-04	3.97062E-04
				key =	119587	108	3.97062E-04	5.54221E-04
				key =	125000	111	5.54221E-04	0.00000E+00
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.86075E-05
				key =	7081	0.585	-5.86075E-05	-5.27281E-05
				key =	13624	0.240	-5.27281E-05	-4.32424E-05
				key =	19706	-0.023	-4.32424E-05	-3.12335E-05
				key =	25405	-0.201	-3.12335E-05	-1.63114E-05
				key =	30800	-0.289	-1.63114E-05	-1.71953E-06
				key =	36034	-0.298	-1.71953E-06	2.90192E-06
				key =	41203	-0.283	2.90192E-06	5.48267E-06
				key =	46310	-0.255	5.48267E-06	7.32818E-06
				key =	51359	-0.218	7.32818E-06	8.60689E-06
				key =	56355	-0.175	8.60689E-06	9.50071E-06
				key =	61302	-0.128	9.50071E-06	1.01937E-05
				key =	66207	-0.078	1.01937E-05	1.00657E-05
				key =	71075	-0.029	1.00657E-05	9.92351E-06
				key =	75912	0.019	9.92351E-06	8.93228E-06
				key =	80726	0.062	8.93228E-06	7.71155E-06
				key =	85524	0.099	7.71155E-06	5.84429E-06
				key =	90315	0.127	5.84429E-06	3.96577E-06
				key =	95106	0.146	3.96577E-06	1.45773E-06
				key =	99908	0.153	1.45773E-06	0.00000E+00
				key =	104734	0.153	0.00000E+00	0.00000E+00
				key =	109607	0.153	0.00000E+00	0.00000E+00
				key =	114550	0.153	0.00000E+00	0.00000E+00
				key =	119587	0.153	0.00000E+00	0.00000E+00
				key =	125000	0.153	0.00000E+00	0.00000E+00
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	13.57	0	0
				key =	38	0	-0.6877	-0.6877
				key =	90	-50.43	-1.117	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	72	0	0
				key =	38	61.19	-0.548	-0.548
				key =	90	21	-0.8901	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	0.4	0	-0.0045
				key =	57.08	0	-0.0083	-0.0083
				key =	147.08	-0.48	0	0
				key =	237.08	0	0.0083	0.0083
				key =	327.08	0.48	0	0
				key =	360	0.4	-0.0045	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	0	0	0
				key =	1	0	0	0
			}				
			pressureCurve				
			{				
				key =	0	1.67414E-01	0.00000E+00	-1.30791E-05
				key =	7075	9.41436E-02	-8.03711E-06	-8.03711E-06
				key =	13613	5.29408E-02	-4.90774E-06	-4.90774E-06
				key =	19693	2.97708E-02	-2.97445E-06	-2.97445E-06
				key =	25390	1.67414E-02	-1.78736E-06	-1.78736E-06
				key =	30787	9.41436E-03	-1.05919E-06	-1.05919E-06
				key =	36026	5.29408E-03	-6.05902E-07	-6.05902E-07
				key =	41203	2.97708E-03	-3.46419E-07	-3.46419E-07
				key =	46321	1.67414E-03	-1.97935E-07	-1.97935E-07
				key =	51385	9.41436E-04	-1.13010E-07	-1.13010E-07
				key =	56399	5.29408E-04	-6.44658E-08	-6.44658E-08
				key =	61367	2.97708E-04	-3.67373E-08	-3.67373E-08
				key =	66295	1.67414E-04	-2.09120E-08	-2.09120E-08
				key =	71190	9.41436E-05	-1.18887E-08	-1.18887E-08
				key =	76056	5.29408E-05	-6.74953E-09	-6.74953E-09
				key =	80902	2.97708E-05	-3.82607E-09	-3.82607E-09
				key =	85736	1.67414E-05	-2.16531E-09	-2.16531E-09
				key =	90564	9.41436E-06	-1.22327E-09	-1.22327E-09
				key =	95397	5.29408E-06	-6.89778E-10	-6.89778E-10
				key =	100242	2.97708E-06	-3.88173E-10	-3.88173E-10
				key =	105116	1.67414E-06	-2.17546E-10	-2.17546E-10
				key =	110042	9.41436E-07	-1.21288E-10	-1.21288E-10
				key =	115045	5.29408E-07	-6.72935E-11	-6.72935E-11
				key =	120151	2.97708E-07	-3.71699E-11	-3.71699E-11
				key =	125000	0.00000E+00	0.00000E+00	0.00000E+00			
			}
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 4934439 // The lower bound of the atmosphere effect.
				invWaveLength = 1.49837768,1.42424715,1.69103956,0.5
				outerRadius = 5060963 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.903846502,0.91538471,0.876923203,0
				outerRadiusMult = 1.025 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.975 // A multiplier that automatically sets innerRadius based on the planets radius.
			}	
		}			
		PQS
		{
			deactivateAltitude = 125000
			fadeStart = 89375
			fadeEnd = 109375
            materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 0.97
				contrast = 1.00
				tintColor = 1,1,1,0
				specularColor = 0,0,0,1
				albedoBrightness = 1

				steepPower = 2.7
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = AfterSolarSystemExpand/Terrain/PluginData/Stone09.dds
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = AfterSolarSystemExpand/Terrain/PluginData/Stone09_NRM.dds
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 15000
				steepTiling = 150

				lowTex = AfterSolarSystemExpand/Terrain/PluginData/Stone09.dds
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 20000

				midTex = AfterSolarSystemExpand/Terrain/PluginData/Stone09.dds
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 40000
				midBumpMap = AfterSolarSystemExpand/Terrain/PluginData/Stone09_NRM.dds
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 40000

				highTex = AfterSolarSystemExpand/Terrain/PluginData/Stone09.dds
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 1000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods
			{
				VertexColorMapBlend
				{
					map = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1h_Color.dds
					blend = 0.89
					order = 10
					enabled = True
					name = _Color
				}
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/007_Trappist-1h_Height.dds
					offset = 0
					deformity = 27636.08
					scaleDeformityByRadius = False
					order = 15
					enabled = True
					name = VertexHeightMap
				}
			}
		}
	}
}