@Kopernicus:HAS[!AfterSolarSystemExpandSettings]:AFTER[AfterSolarSystemExpand]
{
	#@AfterSolarSystemExpandSettings {}
}
@Kopernicus:HAS[@AfterSolarSystemExpandSettings:HAS[#MoryanSystem[?rue]]]:AFTER[AfterSolarSystemExpand]
{
	useOnDemand = True
	Body
	{
		name = Tyache
		finalizeOrbit = False
        randomMainMenuBody = False
		identifier = MoryanSystem/Tyache
		cacheFile = AfterSolarSystemExpand/ImaginarySystem/00_Cache/Tyache.bin
		Template
		{
			name = Laythe
			removeAtmosphere = true
		}
		Orbit
		{
			referenceBody =            Moryan
			semiMajorAxis =            2.950385217466E+12
            eccentricity =             2.152668318479E-01
            inclination =              7.172466531577E+01
            meanAnomalyAtEpochD =      9.724660533818E+01
			longitudeOfAscendingNode = 6.624313587526E+01
			argumentOfPeriapsis =      1.358573566428E+02			
			color = 				   RGB(31,24,10)
			iconTexture = AfterSolarSystemExpand/Textures/DwarfRockPlanet_icon.dds
		}
		Properties
		{
			displayName = #ASSEX_Tyache_name//Tyache
			description = #ASSEX_Tyache_desc//A large dwarf planet, it is different from most dwarf planets in that it has a thick atmosphere and liquid oceans, but the oceans of this miniature world do not store liquid water, but liquid methane, just like Titan in the solar system billions of years ago, of course, that place has now become a habitable world. But here it is still quiet and peaceful, and it has inexhaustible liquid methane, which can provide abundant fuel for your interstellar journey. 
			radius = 1736213	
			//mass = 5.31943712E+22
			gravParameter = 3550234889384.96
			solarRotationPeriod = False
			rotates = true
			rotationPeriod = 4146530.422
			tidallyLocked = False
			isHomeWorld = False
			albedo = 0.28724	
			timewarpAltitudeLimits = 650000 650000 650000 650000 650000 650000 650000 650000
			biomeMap = AfterSolarSystemExpand/Textures/PluginData/Tyache_Biomes.dds
			Biomes
			{
				Biome
				{
					name = Lake
					displayName = #ASSEX_Tyache_Biome1
					value = 1.5
					color = RGBA(120,120,255,255)
				}
				Biome
				{
					name = Lowlands
					displayName = #ASSEX_Tyache_Biome2
					value = 1.0
					color = RGBA(120,120,120,255)
				}
				Biome
				{
					name = Hills
					displayName = #ASSEX_Tyache_Biome3
					value = 1.0
					color = RGBA(35,47,0,255)
				}
				Biome
				{
					name = Highlands
					displayName = #ASSEX_Tyache_Biome4
					value = 1.0
					color = RGBA(255,255,255,255)
				}
				Biome
				{
					name = "TianXue" Lake
					displayName = #ASSEX_Tyache_Biome5
					value = 1.5
					color = RGBA(255,40,0,255)
				}
				Biome
				{
					name = Polar
					displayName = #ASSEX_Tyache_Biome6
					value = 1.8
					color = RGBA(255,143,147,255)
				}
				Biome
				{
					name = Ravine
					displayName = #ASSEX_Tyache_Biome7
					value = 2.35
					color = RGBA(0,0,0,255)
				}
			}
			ScienceValues
			{
				splashedDataValue = 32.8
				landedDataValue = 32.4
				flyingLowDataValue = 31.9
				flyingHighDataValue = 31.7
				inSpaceLowDataValue = 31.3
				inSpaceHighDataValue = 31
				flyingAltitudeThreshold = 95000
				spaceAltitudeThreshold = 72387000
			}
        }
	    ScaledVersion
		{
			type = Atmospheric
			fadeStart = 50000
			fadeEnd = 52000
			OnDemand
			{
				texture = AfterSolarSystemExpand/Textures/PluginData/Tyache_Color.dds
				normals = AfterSolarSystemExpand/Textures/PluginData/Tyache_NRM.dds
			}
			Material
			{
				color = 1,1,1,1		
				specColor = 0.13,0.13,0.13,1				
				shininess = 0.62

				rimPower = 0.75
				rimBlend = 0.32
				rimColorRamp = AfterSolarSystemExpand/Textures/PluginData/TyacheRimColorRamp.dds		
			}
        }
		Ocean		// CH4 lake
		{
			density = 0.34
			oceanColor = 0.78,0.50,0.1,1

			Material
			{
				oceanOpacity = 0.935
				color = 0.78,0.50,0.1,1.0
				colorFromSpace = 0.078,0.050,0.01,1
				fogColor = 0.3,0.2,0.1,1
				specColor = 1,1,1,1
				specColor = 0.3,0.2,0.1,1
				shininess = 0.70
			}
			Fog
			{
				useFog = True
				fogColorStart = 0.3, 0.2,0.1,1
				fogColorEnd = 0.03, 0.02,0.1,1
			}
		}
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude = 650000		
			adiabaticIndex = 1.31	
			atmosphereMolarMass = 0.02782

				// N2  98.4
				// CH4 1.6	
						
			temperatureSeaLevel = 94.92			
			staticPressureASL =	1.89014E+02
			pressureCurve				
			{				
				key =	0		1.89014E+02	0.00000E+00	-6.37535E-03
				key =	17023	1.06290E+02	-3.67864E-03	-3.67864E-03
				key =	33963	5.97714E+01	-2.12103E-03	-2.12103E-03
				key =	50829	3.36119E+01	-1.22195E-03	-1.22195E-03
				key =	67629	1.89014E+01	-7.03364E-04	-7.03364E-04
				key =	84375	1.06290E+01	-4.04478E-04	-4.04478E-04
				key =	101080	5.97714E+00	-2.32365E-04	-2.32365E-04
				key =	117757	3.36119E+00	-1.33345E-04	-1.33345E-04
				key =	134421	1.89014E+00	-7.64334E-05	-7.64334E-05
				key =	151090	1.06290E+00	-4.37587E-05	-4.37587E-05
				key =	167781	5.97714E-01	-2.50203E-05	-2.50203E-05
				key =	184513	3.36119E-01	-1.42870E-05	-1.42870E-05
				key =	201308	1.89014E-01	-8.14677E-06	-8.14677E-06
				key =	218188	1.06290E-01	-4.63879E-06	-4.63879E-06
				key =	235178	5.97714E-02	-2.63741E-06	-2.63741E-06
				key =	252304	3.36119E-02	-1.49723E-06	-1.49723E-06
				key =	269593	1.89014E-02	-8.48634E-07	-8.48634E-07
				key =	287075	1.06290E-02	-4.80245E-07	-4.80245E-07
				key =	304769	5.97714E-03	-2.71687E-07	-2.71687E-07
				key =	322683	3.36119E-03	-1.53673E-07	-1.53673E-07
				key =	340826	1.89014E-03	-8.68970E-08	-8.68970E-08
				key =	359207	1.06290E-03	-4.91225E-08	-4.91225E-08
				key =	377836	5.97714E-04	-2.77593E-08	-2.77593E-08
				key =	396726	3.36119E-04	-1.56810E-08	-1.56810E-08
				key =	415888	1.89014E-04	-8.85454E-09	-8.85454E-09
				key =	435337	1.06290E-04	-4.99766E-09	-4.99766E-09
				key =	455089	5.97714E-05	-2.81944E-09	-2.81944E-09
				key =	475159	3.36119E-05	-1.58979E-09	-1.58979E-09
				key =	495567	1.89014E-05	-8.95951E-10	-8.95951E-10
				key =	516333	1.06290E-05	-5.04641E-10	-5.04641E-10
				key =	537478	5.97714E-06	-2.84067E-10	-2.84067E-10
				key =	559027	3.36119E-06	-1.59803E-10	-1.59803E-10
				key =	581015	1.89014E-06	-8.97562E-11	-8.97562E-11
				key =	603505	1.06290E-06	-5.02738E-11	-5.02738E-11
				key =	626579	5.97714E-07	-2.80851E-11	-2.80851E-11
				key =	650000	0.00000E+00	0.00000E+00	0.00000E+00
			}			
			temperatureCurve				
			{				
				key =	0	91	0.00000E+00	5.87441E-05
				key =	17023	92	5.87441E-05	-5.90319E-05
				key =	33963	91	-5.90319E-05	-1.18582E-04
				key =	50829	89	-1.18582E-04	-2.38095E-04
				key =	67629	85	-2.38095E-04	-1.79147E-04
				key =	84375	82	-1.79147E-04	-1.19725E-04
				key =	101080	80	-1.19725E-04	-1.19926E-04
				key =	117757	78	-1.19926E-04	-6.00096E-05
				key =	134421	77	-6.00096E-05	-5.99916E-05
				key =	151090	76	-5.99916E-05	-1.19825E-04
				key =	167781	74	-1.19825E-04	-5.97657E-05
				key =	184513	73	-5.97657E-05	-5.95415E-05
				key =	201308	72	-5.95415E-05	-5.92417E-05
				key =	218188	71	-5.92417E-05	-5.88582E-05
				key =	235178	70	-5.88582E-05	0.00000E+00
				key =	252304	70	0.00000E+00	-5.78402E-05
				key =	269593	69	-5.78402E-05	0.00000E+00
				key =	287075	69	0.00000E+00	-5.65163E-05
				key =	304769	68	-5.65163E-05	0.00000E+00
				key =	322683	68	0.00000E+00	-5.51177E-05
				key =	340826	67	-5.51177E-05	0.00000E+00
				key =	359207	67	0.00000E+00	0.00000E+00
				key =	377836	67	0.00000E+00	-5.29381E-05
				key =	396726	66	-5.29381E-05	0.00000E+00
				key =	415888	66	0.00000E+00	0.00000E+00
				key =	435337	66	0.00000E+00	0.00000E+00
				key =	455089	66	0.00000E+00	-4.98256E-05
				key =	475159	65	-4.98256E-05	0.00000E+00
				key =	495567	65	0.00000E+00	0.00000E+00
				key =	516333	65	0.00000E+00	0.00000E+00
				key =	537478	65	0.00000E+00	0.00000E+00
				key =	559027	65	0.00000E+00	0.00000E+00
				key =	581015	65	0.00000E+00	0.00000E+00
				key =	603505	65	0.00000E+00	1.06047E-04
				key =	626579	66	4.33388E-05	1.08136E-04
				key =	650000	67	4.26967E-05	1.09247E-04			
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-5.37508E-05
				key =	17023	0.085	-5.37508E-05	-2.27273E-05
				key =	33963	-0.300	-2.27273E-05	8.59718E-06
				key =	50829	-0.155	8.59718E-06	1.77976E-05
				key =	67629	0.144	1.77976E-05	1.72579E-05
				key =	84375	0.433	1.72579E-05	7.06375E-06
				key =	101080	0.551	7.06375E-06	0.00000E+00
				key =	117757	0.551	0.00000E+00	0.00000E+00
				key =	134421	0.551	0.00000E+00	0.00000E+00
				key =	151090	0.551	0.00000E+00	0.00000E+00
				key =	167781	0.551	0.00000E+00	0.00000E+00
				key =	184513	0.551	0.00000E+00	0.00000E+00
				key =	201308	0.551	0.00000E+00	0.00000E+00
				key =	218188	0.551	0.00000E+00	0.00000E+00
				key =	235178	0.551	0.00000E+00	0.00000E+00
				key =	252304	0.551	0.00000E+00	0.00000E+00
				key =	269593	0.551	0.00000E+00	0.00000E+00
				key =	287075	0.551	0.00000E+00	0.00000E+00
				key =	304769	0.551	0.00000E+00	0.00000E+00
				key =	322683	0.551	0.00000E+00	0.00000E+00
				key =	340826	0.551	0.00000E+00	0.00000E+00
				key =	359207	0.551	0.00000E+00	0.00000E+00
				key =	377836	0.551	0.00000E+00	0.00000E+00
				key =	396726	0.551	0.00000E+00	0.00000E+00
				key =	415888	0.551	0.00000E+00	0.00000E+00
				key =	435337	0.551	0.00000E+00	0.00000E+00
				key =	455089	0.551	0.00000E+00	0.00000E+00
				key =	475159	0.551	0.00000E+00	0.00000E+00
				key =	495567	0.551	0.00000E+00	0.00000E+00
				key =	516333	0.551	0.00000E+00	0.00000E+00
				key =	537478	0.551	0.00000E+00	0.00000E+00
				key =	559027	0.551	0.00000E+00	0.00000E+00
				key =	581015	0.551	0.00000E+00	0.00000E+00
				key =	603505	0.551	0.00000E+00	0.00000E+00
				key =	626579	0.551	0.00000E+00	0.00000E+00
				key =	650000	0.551	0.00000E+00	0.00000E+00				
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	1.7	0	0
				key =	38	0	-0.086	-0.086
				key =	90	-6.3	-0.1396	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	9	0	0
				key =	38	7.73	-0.0645	-0.0645
				key =	90	3	-0.1047	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	0	0	0
				key =	80.14264336	0	0	0
				key =	170.1426434	0	0	0
				key =	260.1426434	0	0	0
				key =	350.1426434	0	0	0
				key =	360	0	0	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	11.4	0	-22.8
				key =	1	-11.4	-22.8	0
			}							
			AtmosphereFromGround // The atmosphere effect that is seen on the horizon.
			{
				DEBUG_alwaysUpdateAll = False // Whether all parameters should get recalculated and reapplied every frame.
				doScale = True // Whether the atmosphere mesh should be scaled automatically.
				innerRadius = 3095281 // The lower bound of the atmosphere effect.
				invWaveLength = 3.36270022,2.34971929,1.73628426,0.5
				outerRadius = 3174647 // The upper bound of the atmosphere effect.
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 // The scale of the atmosphere mesh in all three directions. Automatically set if doScale is enabled.
				waveLength = 0.738461673,0.807692409,0.871153712,1
				outerRadiusMult = 1.025 // A multiplier that automatically sets outerRadius based on the planets radius.
				innerRadiusMult = 0.9750001 // A multiplier that automatically sets innerRadius based on the planets radius.
			}			
		}	
		PQS
		{			
			minLevel = 2
			maxLevel = 8					
			deactivateAltitude = 650000
			fadeStart = 467000
			fadeEnd = 525000
			materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.1
				factorRotation = 180
				saturation = 1.7
				contrast = 1.2
				tintColor = 1,1,1,0
				specularColor = 0.188235298,0.188235298,0.188235298,1
				albedoBrightness = 1

				steepPower = 3
				steepTexStart = 50000
				steepTexEnd = 1000000
				steepTex = BUILTIN/laythSteep_diff
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/laytheSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 1500
				steepTiling = 150

				lowTex = BUILTIN/laytheLow_diff
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 120000

				midTex = BUILTIN/laytheSand_diffuse
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 140000
				midBumpMap = BUILTIN/laytheSand_nrm
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 140000

				highTex = BUILTIN/laytheSnow_diff
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 130000

				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1

				globalDensity = 0
				planetOpacity = 0
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.5
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 1
			}
			Mods    
			{
				VertexHeightMap
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Tyache_Height.dds
					offset = -12500
					deformity = 27500
					scaleDeformityByRadius = false
					order = 20
					enabled = true
				}
				VertexColorMapBlend
				{
					map = AfterSolarSystemExpand/Textures/PluginData/Tyache_Color.dds
					order = 9999993
					blend = 0.92
					enabled = true
				}
			}
		}			
	}
}